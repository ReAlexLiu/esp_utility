syntax = "proto3";
import "nanopb.proto";

message WiFiConfigMessage {
    bytes ssid = 1 [(nanopb).max_size = 16];
    bytes passphrase = 2 [(nanopb).max_size = 16];
}

message MqttConfigMessage {
    bytes mqtt_server = 1 [(nanopb).max_size = 24];
    uint32 mqtt_port = 2;
    bytes mqtt_user = 3 [(nanopb).max_size = 16];
    bytes mqtt_pass = 4 [(nanopb).max_size = 16];
}

message Ds18b20ConfigMessage {
    bytes address = 1 [(nanopb).max_size = 8];
    uint32 output_pin = 2;
}
message RtcConfigMessage {
   bytes ntp_server = 1 [(nanopb).max_size = 32];
   uint32 timezone = 2;
}

message AppsConfigMessage {
    repeated Ds18b20ConfigMessage temperature_sensor = 1 [(nanopb).max_count = 4];
}
message ConfigMessage {
    WiFiConfigMessage wifi_config = 1;
    AppsConfigMessage apps_config = 2;
    MqttConfigMessage mqtt_config = 3;
    RtcConfigMessage rtc_config = 4;
}
